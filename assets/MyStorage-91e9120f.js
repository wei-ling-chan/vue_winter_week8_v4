import{_ as f,k as m,a as i,b as t,F as n,l as v,r as u,o,d as p,w as g,t as a,n as y,e as d,g as x}from"./index-042c02b4.js";import{c as b}from"./cartStore-94043491.js";import"./toasts-2755bfee.js";import"./sweetalert2.all-5ea1517f.js";const{VITE_APP_URL:k,VITE_APP_PATH:w}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"wlc606",BASE_URL:"/vue_winter_week8_v4/",MODE:"production",DEV:!1,PROD:!0},P={data(){return{products:[],temProducts:[],favorites:[]}},methods:{testItems(){this.favorites=JSON.parse(localStorage.getItem("favorites"))||[],this.$http.get(`${k}/v2/api/${w}/products/all`).then(e=>{this.products=e.data.products,this.filteredItems()})},filteredItems(){this.temProducts=this.products.filter(e=>this.favorites.includes(e.id))},toggleFavorite(e){this.favorites.includes(e)?this.favorites=this.favorites.filter(r=>r!==e):this.favorites.push(e),localStorage.setItem("favorites",JSON.stringify(this.favorites))},heartClass(e){return this.favorites.includes(e)?"fa-solid fa-heart fs-5 text-danger":"fa-regular fs-5 fa-heart"},...m(b,["addToCart"])},watch:{favorites:function(){this.filteredItems()}},mounted(){this.favorites=JSON.parse(localStorage.getItem("favorites"))||[],this.testItems()}},C=t("div",{style:{height:"20vh"}},null,-1),T={class:"my-storage filter-product my-md-5 my-4 tasty-list",ref:"filter-product"},I={class:"container px-md-0"},S=t("h1",{class:"text-center mb-md-4 m-0 fw-bold"},"我的收藏",-1),A={key:0,class:"row mx-n2"},E={class:"slide-hover overflow-hidden"},N=["src"],V={class:"card-body w-100"},$={class:"mb-4 tasty-item"},L={class:"d-flex justify-content-between align-items-center position-relative mb-2"},R={class:"card-title fw-bold tasty-item-title d-block text-dark",style:{"font-size":"30px"}},O={class:"heart"},B=["onClick"],D={class:"d-flex justify-content-between align-items-center"},F={class:"card-text text-md end tasty-item-price text-info fs-6",style:{"font-weight":"700"}},U={class:"card-text text-md end fs-7",style:{color:"#c3c3c3"}},j={class:"text-decoration-line-through"},J={class:"product-btn d-flex justify-content-between tasty-button"},M=["onClick"],z=t("i",{class:"fa-solid fa-cart-shopping"},null,-1),H={key:1,style:{height:"50vh"}},q=t("div",{class:"h5 py-7 text-center fw-normal"},"目前還沒有收藏喔!趕快去收藏吧~",-1),G=[q];function K(e,r,Q,W,c,l){const h=u("RouterLink");return o(),i(n,null,[C,t("div",T,[t("div",I,[S,c.temProducts.length>0?(o(),i("div",A,[(o(!0),i(n,null,v(c.temProducts,s=>(o(),i("div",{class:"col-12 col-md-6 col-xl-4 tasty-item-block position-relative",key:s.id},[p(h,{to:`/product/${s.id}`,class:"card mx-2 my-5"},{default:g(()=>[t("div",E,[t("img",{src:s.imageUrl,alt:"收藏",class:"slide-img"},null,8,N)]),t("div",V,[t("div",$,[t("div",L,[t("h5",R,a(s.title),1),t("a",O,[t("i",{class:y(l.heartClass(s.id)),onClick:d(_=>l.toggleFavorite(s.id),["prevent"])},null,10,B)])]),t("div",D,[t("div",F,"特價NT$ "+a(s.price),1),t("div",U,[t("span",j,"NT$ "+a(s.origin_price),1)])])]),t("div",J,[t("a",{type:"button",class:"d-md-block btn btn-dark text-light w-100",onClick:d(_=>e.addToCart(s.id,e.qty),["prevent"])},[z,x(" 加入購物車 ")],8,M)])])]),_:2},1032,["to"])]))),128))])):(o(),i("div",H,G))])],512)],64)}const et=f(P,[["render",K]]);export{et as default};
