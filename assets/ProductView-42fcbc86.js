import{N as C,A as L,S as V,a as E}from"./autoplay.min-383ec888.js";import{_ as T,k as N,a as b,d as n,b as t,w as r,g as a,t as c,n as v,e as u,bs as A,bj as B,F as m,f as w,r as h,o as f,l as D,p as j,s as q,u as I}from"./index-01093b7f.js";import{L as R}from"./index-4b6ec3b1.js";import{c as U}from"./cartStore-29c4a78d.js";import"./toasts-0cc83718.js";import"./sweetalert2.all-dbef9969.js";const{VITE_APP_URL:g,VITE_APP_PATH:y}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"wlc606",BASE_URL:"/vue_winter_week8_v4/",MODE:"production",DEV:!1,PROD:!0},Q={data(){return{modules:[C,L],products:[],relatedProducts:[],product:{qty:1},favorites:[],isProductQty:!0,color:"#9cd020",isLoading:!1,fullPage:!0,loader:"bars"}},components:{Swiper:V,SwiperSlide:E,Loading:R},methods:{getProduct(){const{id:e}=this.$route.params;this.$http.get(`${g}/v2/api/${y}/product/${e}`).then(s=>{this.product=s.data.product,this.getRelatedProducts(),this.isLoading=!1})},getProducts(){this.$http.get(`${g}/v2/api/${y}/products/all`).then(e=>{this.products=e.data.products,this.isLoading=!1})},getRelatedProducts(){this.products.forEach(e=>{e.category===this.product.category&&e.id!==this.product.id&&this.relatedProducts.push(e)}),this.products.forEach(e=>{if(e.id!==this.product.id&&this.relatedProducts.length<3)for(let s=this.relatedProducts.length;s<3;s++){let l;do l=this.products[Math.floor(Math.random()*this.products.length)];while(this.relatedProducts.includes(l)||l.id===this.product.id);this.relatedProducts.push(l)}})},doAjax(){this.isLoading=!0},toggleFavorite(e){this.favorites.includes(e)?this.favorites=this.favorites.filter(s=>s!==e):this.favorites.push(e),this.heartClass(e),localStorage.setItem("favorites",JSON.stringify(this.favorites))},heartClass(e){return this.favorites.includes(e)?"fa-solid fa-heart fs-5 text-danger":"fa-regular fs-5 fa-heart"},reproductQty(e){this.product.qty+=e},...N(U,["addToCart"])},watch:{product:{handler(){this.$nextTick(()=>{this.product.qty=this.product.qty||1,this.product.qty>1?this.isProductQty=!1:this.isProductQty=!0})},deep:!0},$route(){window.location.reload()}},mounted(){this.doAjax(),this.getProduct(),this.getProducts(),this.favorites=JSON.parse(localStorage.getItem("favorites"))||[],this.heartClass()}},d=e=>(q("data-v-8bf6ed9c"),e=e(),I(),e),O={class:"tastyDetail"},M=w('<section class="banner banner-product text-center" data-v-8bf6ed9c><div class="banner-title h-100" data-v-8bf6ed9c><div class="row h-100 position-relative g-0" data-v-8bf6ed9c><div class="col-md-6 col-12 offset-md-3 banner-title position-absolute" data-v-8bf6ed9c><h2 class="text-light" data-v-8bf6ed9c><span class="banner-delicious-title" data-v-8bf6ed9c>美味</span>專區 </h2><p class="text-light banner-subtitle" data-v-8bf6ed9c>DELICIOUS ZONE</p></div><div class="col-md-6 col-12 offset-md-3 banner-info position-absolute" data-v-8bf6ed9c><p class="text-light d-none d-md-block" data-v-8bf6ed9c>採用天然新鮮食材精心製作，呈現美味。</p><p class="text-light offset-md-5 d-block d-md-none banner-info-mobile fs-6" data-v-8bf6ed9c>採用天然新鮮食材精心製作，<br data-v-8bf6ed9c>呈現美味。</p></div></div></div></section>',1),F={class:"container px-md-0"},H={class:"tastyDetail-breadcrumb d-flex"},J={class:"tastyDetail-breadcrumb-list d-flex justify-content-between"},z={"aria-label":"breadcrumb"},Z={class:"breadcrumb my-2 my-md-4 fs-6"},$=d(()=>t("li",{class:"breadcrumb-item active","aria-current":"page"},"產品詳頁",-1)),G={class:"tastyDetail-product"},K={class:"tastyDetail-product-item"},W={class:"row justify-content-center align-items-center"},X={class:"col-12 col-md-6"},Y=["src"],tt={class:"product-info col-12 col-md-6 fs-6"},et={class:"row"},st={class:"col-12 mb-md-4 my-4"},ot={class:"fw-bold"},it={class:"badge bg-info ms-2 product_type fw-normal"},dt=d(()=>t("div",{class:"col-lg-3 mb-2"},"產品描述:",-1)),ct={class:"col-lg-9 pb-3 mb-2 ps-0 description"},at=d(()=>t("div",{class:"col-lg-3 mb-2"},"商品內容:",-1)),lt={class:"col-lg-9 pb-3 ps-0 content"},nt=d(()=>t("div",{class:"col-3 pb-3 product-price"},"價格:",-1)),rt={class:"col-9 pb-3 ps-0 product-price"},ut={class:"price text-info"},pt={class:"row justify-content-between mt-2"},ht={class:"input-group",style:{width:"180px"}},_t=d(()=>t("i",{class:"bi bi-dash-lg"},null,-1)),ft=[_t],bt=d(()=>t("i",{class:"bi bi-plus"},null,-1)),vt=[bt],mt=w('<section class="customer-notice container-fluid p-3 p-md-4 my-md-8 my-6 rounded" data-v-8bf6ed9c><div class="border border-1 border-dark p-3 p-md-4 fs-6 rounded" data-v-8bf6ed9c><p class="h5 text-center mb-4 fs-5 fw-bold" data-v-8bf6ed9c>客戶須知:</p><ol class="ps-md-4" data-v-8bf6ed9c><li class="py-2" data-v-8bf6ed9c>線上訂購預約時間：如果您透過線上訂購進行當日預約，請預留約20分鐘的時間，我們將為您準備好餐點，以確保順利取餐。</li><li class="py-2" data-v-8bf6ed9c>外袋包裝:為了提供良好的使用體驗，我們將麵體和湯類分開包裝，確保麵食的口感和湯汁的風味保持最佳狀態。</li><li class="py-2" data-v-8bf6ed9c>新鮮煮熟麵的最佳食用時限：我們建議您盡快食用新鮮煮熟的麵食，以確保最佳的口感和風味。</li><li class="py-2" data-v-8bf6ed9c>訂購方式：您可以選擇在店內現場訂購，或透過我們的線上訂購系統進行訂購。</li><li class="py-2" data-v-8bf6ed9c>付款方式：為了您的方便，我們接受現金、Line Pay和信用卡三種付款方式。您可以根據個人偏好選擇最適合您的付款方式。</li></ol></div></section>',1),gt={class:"my-0 my-md-4"},yt=d(()=>t("div",{class:"maybe-like"},[t("h3",{class:"text-center mb-5"},"或許你會喜歡...")],-1)),wt={class:"swiper-father"},xt={class:"slide-hover overflow-hidden"},Pt=["src"],kt={class:"card-body w-100"},St={class:"mb-4 tasty-item"},Ct={class:"d-flex justify-content-between align-items-center mb-2"},Lt={class:"card-title fw-bolder tasty-item-title d-block text-dark"},Vt=["onClick"],Et={class:"d-flex justify-content-between align-items-center"},Tt={class:"card-text text-md end tasty-item-price text-info fs-6"},Nt={class:"card-text text-dark text-md end fs-7 text-subPrice"},At={class:"text-decoration-line-through"},Bt={class:"product-btn d-flex justify-content-between tasty-button"},Dt=["onClick"],jt=d(()=>t("i",{class:"fa-solid fa-cart-shopping"},null,-1)),qt=d(()=>t("div",{class:"bg-info px-3 py-2 rounded-2",style:{}},[t("i",{class:"fa-solid fa-chevron-left text-light fs-5"})],-1)),It=[qt],Rt=d(()=>t("div",{class:"bg-info px-3 py-2 rounded-2",style:{}},[t("i",{class:"fa-solid fa-chevron-right text-light fs-5"})],-1)),Ut=[Rt];function Qt(e,s,l,Ot,i,p){const x=h("Loading"),_=h("RouterLink"),P=h("SwiperSlide"),k=h("Swiper");return f(),b(m,null,[n(x,{active:i.isLoading,"onUpdate:active":s[0]||(s[0]=o=>i.isLoading=o),"can-cancel":!0,color:i.color,"on-cancel":e.onCancel,loader:i.loader,"is-full-page":i.fullPage},null,8,["active","color","on-cancel","loader","is-full-page"]),t("div",O,[t("div",null,[M,t("div",F,[t("section",H,[t("div",J,[t("nav",z,[t("ol",Z,[n(_,{to:"/",class:"breadcrumb-item text-dark router-link-custom",style:{"text-decoration":"none"}},{default:r(()=>[a("首頁")]),_:1}),n(_,{to:"/products",class:"breadcrumb-item text-dark router-link-custom",style:{"text-decoration":"none"}},{default:r(()=>[a("美味專區")]),_:1}),$])])])]),t("section",G,[t("div",K,[t("div",W,[t("div",X,[t("div",null,[t("img",{src:i.product.imageUrl,alt:"商品",class:"rounded"},null,8,Y)])]),t("div",tt,[t("div",et,[t("div",st,[t("h1",ot,[a(c(i.product.title)+" ",1),t("span",it,c(i.product.category),1)])]),dt,t("div",ct,c(i.product.description),1),at,t("div",lt,c(i.product.content),1),nt,t("div",rt,[t("span",ut,c(i.product.price),1),a("元 ")])]),t("div",pt,[t("div",ht,[t("button",{class:v(["btn btn-outline-secondary rounded-start px-2",{disabled:this.isProductQty}]),type:"button",onClick:s[1]||(s[1]=u(o=>p.reproductQty(-1),["prevent"]))},ft,2),A(t("input",{type:"button",class:"form-control text-center","onUpdate:modelValue":s[2]||(s[2]=o=>i.product.qty=o),"aria-label":"Example text with two button addons readonly"},null,512),[[B,i.product.qty]]),t("button",{class:"btn btn-outline-secondary rounded-end px-2",type:"button",onClick:s[3]||(s[3]=u(o=>p.reproductQty(1),["prevent"]))},vt)]),t("button",{type:"button",class:"col-5 btn btn-dark text-light",onClick:s[4]||(s[4]=o=>e.addToCart(i.product.id,i.product.qty))},"加到購物車")])])])])]),mt,t("section",gt,[yt,t("div",wt,[n(k,{slidesPerView:3,spaceBetween:30,autoHeight:!0,autoplay:{delay:3e3},centeredSlides:!1,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},modules:i.modules,breakpoints:{0:{slidesPerView:1,spaceBetween:10},600:{slidesPerView:2,spaceBetween:10},769:{slidesPerView:2,spaceBetween:20},1025:{slidesPerView:3,spaceBetween:20}},class:"mySwiper",ref:"mySwiper"},{default:r(()=>[(f(!0),b(m,null,D(i.relatedProducts,o=>(f(),j(P,{key:o.id},{default:r(()=>[n(_,{to:`/product/${o.id}`,class:"card h-100 justify-content-between"},{default:r(()=>[t("div",xt,[t("img",{src:o.imageUrl,alt:"商品",class:"slide-img"},null,8,Pt)]),t("div",kt,[t("div",St,[t("div",Ct,[t("h5",Lt,c(o.title),1),t("a",{class:"heart",onClick:s[5]||(s[5]=u(()=>{},["prevent"]))},[t("i",{class:v(p.heartClass(o.id)),onClick:u(S=>p.toggleFavorite(o.id),["prevent"])},null,10,Vt)])]),t("div",Et,[t("div",Tt,"NT$ "+c(o.price),1),t("div",Nt,[a("  "),t("span",At," NT$ "+c(o.origin_price),1)])])]),t("div",Bt,[t("a",{type:"button",class:"d-md-block btn btn-dark text-light w-100",onClick:u(S=>e.addToCart(o.id,e.qty),["prevent"])},[jt,a(" 加入購物車 ")],8,Dt)])])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["navigation","modules"]),t("div",{class:"swiper-button-prev",ref:"prevButton",onClick:s[6]||(s[6]=(...o)=>e.onPrev&&e.onPrev(...o))},It,512),t("div",{class:"swiper-button-next",ref:"nextButton",onClick:s[7]||(s[7]=(...o)=>e.onNext&&e.onNext(...o))},Ut,512)])])])])])],64)}const $t=T(Q,[["render",Qt],["__scopeId","data-v-8bf6ed9c"]]);export{$t as default};
