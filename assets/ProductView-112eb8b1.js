import{N as S,A as C,S as L,a as V}from"./autoplay.min-c792c426.js";import{_ as E,k as T,a as v,d as n,b as t,w as r,g as d,t as c,e as p,bs as N,bj as A,F as f,f as y,r as h,o as b,l as B,p as D,n as j,s as I,u as q}from"./index-042c02b4.js";import{L as R}from"./index-c908b051.js";import{c as U}from"./cartStore-94043491.js";import"./toasts-2755bfee.js";import"./sweetalert2.all-5ea1517f.js";const{VITE_APP_URL:m,VITE_APP_PATH:g}={VITE_APP_URL:"https://vue3-course-api.hexschool.io",VITE_APP_PATH:"wlc606",BASE_URL:"/vue_winter_week8_v4/",MODE:"production",DEV:!1,PROD:!0},O={data(){return{modules:[S,C],products:[],relatedProducts:[],product:{qty:1},favorites:[],color:"#9cd020",isLoading:!1,fullPage:!0,loader:"bars"}},components:{Swiper:L,SwiperSlide:V,Loading:R},methods:{getProduct(){const{id:s}=this.$route.params;this.$http.get(`${m}/v2/api/${g}/product/${s}`).then(e=>{this.product=e.data.product,this.getRelatedProducts(),this.isLoading=!1})},getProducts(){this.$http.get(`${m}/v2/api/${g}/products/all`).then(s=>{this.products=s.data.products,this.isLoading=!1})},getRelatedProducts(){this.products.forEach(s=>{s.category===this.product.category&&s.id!==this.product.id&&this.relatedProducts.push(s)}),this.products.forEach(s=>{if(s.id!==this.product.id&&this.relatedProducts.length<3)for(let e=this.relatedProducts.length;e<3;e++){let l;do l=this.products[Math.floor(Math.random()*this.products.length)];while(this.relatedProducts.includes(l)||l.id===this.product.id);this.relatedProducts.push(l)}})},doAjax(){this.isLoading=!0},toggleFavorite(s){this.favorites.includes(s)?this.favorites=this.favorites.filter(e=>e!==s):this.favorites.push(s),this.heartClass(s),localStorage.setItem("favorites",JSON.stringify(this.favorites))},heartClass(s){return this.favorites.includes(s)?"fa-solid fa-heart fs-5 text-danger":"fa-regular fs-5 fa-heart"},reproductQty(s){this.product.qty+=s},...T(U,["addToCart"])},watch:{product:{handler(){this.$nextTick(()=>{this.product.qty=this.product.qty||1})},deep:!0},$route(){window.location.reload()}},mounted(){this.doAjax(),this.getProduct(),this.getProducts(),this.favorites=JSON.parse(localStorage.getItem("favorites"))||[],this.heartClass()}},a=s=>(I("data-v-2c8a215b"),s=s(),q(),s),M={class:"tastyDetail"},F=y('<section class="banner banner-product text-center" data-v-2c8a215b><div class="banner-title h-100" data-v-2c8a215b><div class="row h-100 position-relative g-0" data-v-2c8a215b><div class="col-md-6 col-12 offset-md-3 banner-title position-absolute" data-v-2c8a215b><h2 class="text-light" data-v-2c8a215b><span class="banner-delicious-title" data-v-2c8a215b>美味</span>專區 </h2><p class="text-light banner-subtitle" data-v-2c8a215b>DELICIOUS ZONE</p></div><div class="col-md-6 col-12 offset-md-3 banner-info position-absolute" data-v-2c8a215b><p class="text-light d-none d-md-block" data-v-2c8a215b>採用天然新鮮食材精心製作，呈現美味。</p><p class="text-light offset-md-5 d-block d-md-none banner-info-mobile fs-6" data-v-2c8a215b>採用天然新鮮食材精心製作，<br data-v-2c8a215b>呈現美味。</p></div></div></div></section>',1),H={class:"container px-md-0"},Q={class:"tastyDetail-breadcrumb d-flex"},J={class:"tastyDetail-breadcrumb-list d-flex justify-content-between"},z={"aria-label":"breadcrumb"},Z={class:"breadcrumb my-2 my-md-4 fs-6"},$=a(()=>t("li",{class:"breadcrumb-item active","aria-current":"page"},"產品詳頁",-1)),G={class:"tastyDetail-product"},K={class:"tastyDetail-product-item"},W={class:"row justify-content-center align-items-center"},X={class:"col-12 col-md-6"},Y=["src"],tt={class:"product-info col-12 col-md-6 fs-6"},st={class:"row"},et={class:"col-12 mb-md-4 my-4"},ot={class:"fw-bold"},it={class:"badge bg-info ms-2 product_type fw-normal"},at=a(()=>t("div",{class:"col-lg-3 mb-2"},"產品描述:",-1)),ct={class:"col-lg-9 pb-3 mb-2 ps-0 description"},dt=a(()=>t("div",{class:"col-lg-3 mb-2"},"商品內容:",-1)),lt={class:"col-lg-9 pb-3 ps-0 content"},nt=a(()=>t("div",{class:"col-3 pb-3 product-price"},"價格:",-1)),rt={class:"col-9 pb-3 ps-0 product-price"},pt={class:"price text-info"},ut={class:"row justify-content-between mt-2"},ht={class:"input-group",style:{width:"180px"}},_t=a(()=>t("i",{class:"bi bi-dash-lg"},null,-1)),bt=[_t],vt=a(()=>t("i",{class:"bi bi-plus"},null,-1)),ft=[vt],mt=y('<section class="customer-notice container-fluid p-3 p-md-4 my-md-8 my-6" data-v-2c8a215b><div class="border border-1 border-dark p-3 p-md-4 fs-6" data-v-2c8a215b><p class="h5 text-center mb-4 fs-5 fw-bold" data-v-2c8a215b>客戶須知:</p><ol class="ps-md-4" data-v-2c8a215b><li class="py-2" data-v-2c8a215b>線上訂購預約時間：如果您透過線上訂購進行當日預約，請預留約20分鐘的時間，我們將為您準備好餐點，以確保順利取餐。</li><li class="py-2" data-v-2c8a215b>外袋包裝:為了提供良好的使用體驗，我們將麵體和湯類分開包裝，確保麵食的口感和湯汁的風味保持最佳狀態。</li><li class="py-2" data-v-2c8a215b>新鮮煮熟麵的最佳食用時限：我們建議您盡快食用新鮮煮熟的麵食，以確保最佳的口感和風味。</li><li class="py-2" data-v-2c8a215b>訂購方式：您可以選擇在店內現場訂購，或透過我們的線上訂購系統進行訂購。</li><li class="py-2" data-v-2c8a215b>付款方式：為了您的方便，我們接受現金、Line Pay和信用卡三種付款方式。您可以根據個人偏好選擇最適合您的付款方式。</li></ol></div></section>',1),gt={class:"my-0 my-md-4"},yt=a(()=>t("div",{class:"maybe-like"},[t("h3",{class:"text-center mb-5"},"或許你會喜歡...")],-1)),wt={class:"swiper-father"},xt={class:"slide-hover overflow-hidden"},Pt=["src"],kt={class:"card-body w-100"},St={class:"mb-4 tasty-item"},Ct={class:"d-flex justify-content-between align-items-center mb-2"},Lt={class:"card-title fw-bolder tasty-item-title d-block text-dark"},Vt=["onClick"],Et={class:"d-flex justify-content-between align-items-center"},Tt={class:"card-text text-md end tasty-item-price text-info fs-6"},Nt={class:"card-text text-dark text-md end fs-7 text-subPrice"},At={class:"text-decoration-line-through"},Bt={class:"product-btn d-flex justify-content-between tasty-button"},Dt=["onClick"],jt=a(()=>t("i",{class:"fa-solid fa-cart-shopping"},null,-1)),It=a(()=>t("div",{class:"bg-info px-3 py-2 rounded-2",style:{}},[t("i",{class:"fa-solid fa-chevron-left text-light fs-5"})],-1)),qt=[It],Rt=a(()=>t("div",{class:"bg-info px-3 py-2 rounded-2",style:{}},[t("i",{class:"fa-solid fa-chevron-right text-light fs-5"})],-1)),Ut=[Rt];function Ot(s,e,l,Mt,i,u){const w=h("Loading"),_=h("RouterLink"),x=h("SwiperSlide"),P=h("Swiper");return b(),v(f,null,[n(w,{active:i.isLoading,"onUpdate:active":e[0]||(e[0]=o=>i.isLoading=o),"can-cancel":!0,color:i.color,"on-cancel":s.onCancel,loader:i.loader,"is-full-page":i.fullPage},null,8,["active","color","on-cancel","loader","is-full-page"]),t("div",M,[t("div",null,[F,t("div",H,[t("section",Q,[t("div",J,[t("nav",z,[t("ol",Z,[n(_,{to:"/",class:"breadcrumb-item text-dark router-link-custom",style:{"text-decoration":"none"}},{default:r(()=>[d("首頁")]),_:1}),n(_,{to:"/products",class:"breadcrumb-item text-dark router-link-custom",style:{"text-decoration":"none"}},{default:r(()=>[d("美味專區")]),_:1}),$])])])]),t("section",G,[t("div",K,[t("div",W,[t("div",X,[t("div",null,[t("img",{src:i.product.imageUrl,alt:"商品",class:"rounded"},null,8,Y)])]),t("div",tt,[t("div",st,[t("div",et,[t("h1",ot,[d(c(i.product.title)+" ",1),t("span",it,c(i.product.category),1)])]),at,t("div",ct,c(i.product.description),1),dt,t("div",lt,c(i.product.content),1),nt,t("div",rt,[t("span",pt,c(i.product.price),1),d("元 ")])]),t("div",ut,[t("div",ht,[t("button",{class:"btn btn-outline-secondary rounded-start px-2",type:"button",onClick:e[1]||(e[1]=p(o=>u.reproductQty(-1),["prevent"]))},bt),N(t("input",{type:"button",class:"form-control text-center","onUpdate:modelValue":e[2]||(e[2]=o=>i.product.qty=o),placeholder:"","aria-label":"Example text with two button addons readonly"},null,512),[[A,i.product.qty]]),t("button",{class:"btn btn-outline-secondary rounded-end px-2",type:"button",onClick:e[3]||(e[3]=p(o=>u.reproductQty(1),["prevent"]))},ft)]),t("button",{type:"button",class:"col-5 btn btn-dark text-light",onClick:e[4]||(e[4]=o=>s.addToCart(i.product.id,i.product.qty))},"加到購物車")])])])])]),mt,t("section",gt,[yt,t("div",wt,[n(P,{slidesPerView:3,spaceBetween:30,autoHeight:!0,autoplay:{delay:3e3},centeredSlides:!1,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},modules:i.modules,breakpoints:{0:{slidesPerView:1,spaceBetween:10},600:{slidesPerView:2,spaceBetween:10},769:{slidesPerView:2,spaceBetween:20},1025:{slidesPerView:3,spaceBetween:20}},class:"mySwiper",ref:"mySwiper"},{default:r(()=>[(b(!0),v(f,null,B(i.relatedProducts,o=>(b(),D(x,{key:o.id},{default:r(()=>[n(_,{to:`/product/${o.id}`,class:"card h-100 justify-content-between"},{default:r(()=>[t("div",xt,[t("img",{src:o.imageUrl,alt:"商品",class:"slide-img"},null,8,Pt)]),t("div",kt,[t("div",St,[t("div",Ct,[t("h5",Lt,c(o.title),1),t("a",{class:"heart",onClick:e[5]||(e[5]=p(()=>{},["prevent"]))},[t("i",{class:j(u.heartClass(o.id)),onClick:p(k=>u.toggleFavorite(o.id),["prevent"])},null,10,Vt)])]),t("div",Et,[t("div",Tt,"特價NT$ "+c(o.price),1),t("div",Nt,[d("  "),t("span",At," NT$ "+c(o.origin_price),1)])])]),t("div",Bt,[t("a",{type:"button",class:"d-md-block btn btn-dark text-light w-100",onClick:p(k=>s.addToCart(o.id,s.qty),["prevent"])},[jt,d(" 加入購物車 ")],8,Dt)])])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1},8,["navigation","modules"]),t("div",{class:"swiper-button-prev",ref:"prevButton",onClick:e[6]||(e[6]=(...o)=>s.onPrev&&s.onPrev(...o))},qt,512),t("div",{class:"swiper-button-next",ref:"nextButton",onClick:e[7]||(e[7]=(...o)=>s.onNext&&s.onNext(...o))},Ut,512)])])])])])],64)}const $t=E(O,[["render",Ot],["__scopeId","data-v-2c8a215b"]]);export{$t as default};
